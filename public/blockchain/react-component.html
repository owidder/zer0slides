<style>

    #__0__ .code {
        font-size: 1.2em;
    }

    #__0__ .code pre {
        background-color: white;
    }

    #__0__ .line-highlight {
        border: solid black 2px;
    }

</style>

<div class="title"></div>
<div class="code"></div>

<script>

    (function () {
        _0.glowText(".title", ["Step 2: Simple React component",], "small glow");

        const codeSelector = ".code";

        _0.codeJs(codeSelector,
            "import React from \"react\";\n" +
            "import {Input, Button, Card} from 'antd';\n" +
            "import 'antd/dist/antd.css';\n" +
            "import './HashStore.css';\n" +
            "\n" +
            "const {TextArea} = Input;\n" +
            "\n" +
            "export class HashStore extends React.Component {\n" +
            "    constructor() {\n" +
            "        super();\n" +
            "        this.state = {};\n" +
            "    }\n" +
            "    render() {\n" +
            "        if (!this.state.loaded) return \"Loading...\";\n" +
            "\n" +
            "        return (\n" +
            "            <div className=\"hashstore\">\n" +
            "                <Card>\n" +
            "                    <p><TextArea onChange={(evt) => this.text = evt.target.value} placeholder=\"Some text\" autosize/></p>\n" +
            "                    <p><Button type=\"primary\" onClick={() => this.storeHashedText()}>Store hash</Button></p>\n" +
            "                    <p><Button type=\"primary\" onClick={() => this.getEntryFromHash()}>Get entry</Button></p>\n" +
            "                    <p>{this.state.hashedText}</p>\n" +
            "                    <p>{this.renderTxStatus()}</p>\n" +
            "                </Card>\n" +
            "                {this.renderEntry()}\n" +
            "            </div>\n" +
            "        )\n" +
            "    }\n" +
            "}\n"
        );

        const steps = [];
        steps.push(_0.highlightLinesStep(codeSelector, "1,8", "It's a React component"));
        steps.push(_0.highlightLinesStep(codeSelector, "2,6", "We use the Ant Design components library"));
        steps.push(_0.highlightLinesStep(codeSelector, "11", "The React component state will be used to hold the (so called) Drizzle state (which holds the state of the contract)"));
        steps.push(_0.highlightLinesStep(codeSelector, "13-28", "When the state of the contract changes -> the Drizzle state changes -> the React component state changes -> the render method is called", "top"));
        steps.push(_0.highlightLinesStep(codeSelector, "14", "We'll store in the React component state whether Drizzle is already initialized (i.e. connected to the smart contract)"));
        steps.push(_0.highlightLinesStep(codeSelector, "19", "We'll store the text of the TextArea in a simple attribute or the component", "top"));
        steps.push(_0.highlightLinesStep(codeSelector, "20", "The component method 'storeHashedText' calls the contract method 'storeHash'"));
        steps.push(_0.highlightLinesStep(codeSelector, "21", "The component method 'getEntryFromHash' calls the three view methods of the contract", "top"));
        steps.push(_0.highlightLinesStep(codeSelector, "22", "We put the hash value also into the component state"));
        steps.push(_0.highlightLinesStep(codeSelector, "23", "Returns the state of a current transaction with the contract", "top"));
        steps.push(_0.highlightLinesStep(codeSelector, "25", "Returns account address, block number and timestamp"));
        _0.setSteps(steps);

        ___();
    })()
</script>