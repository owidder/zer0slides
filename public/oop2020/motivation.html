<style>

    #__0__ .canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
    }

    @keyframes __0__-graph-animate-cube {
        33% {transform: rotateX(360deg) rotateY(0deg) rotateZ(0deg)}
        66% {transform: rotateX(360deg) rotateY(360deg) rotateZ(0deg)}
        66% {transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg)}
    }

    #__0__ .animate-cube {
        animation: __0__-graph-animate-cube 100s infinite ease-in-out;
    }

    #__0__ .cube-css3 {
        background-image: url("./img/css3.png");
        background-size: contain;
        background-position: left top;
    }

    #__0__ .cube-html5 {
        background-image: url("./img/html5.png");
        background-size: contain;
        background-position: left top;
    }

    #__0__ .cube-javascript {
        background-image: url("./img/javascript.png");
        background-size: contain;
        background-position: left top;
    }

    #__0__ .cube-react {
        background-image: url("./img/react.png");
        background-size: contain;
        background-position: left top;
    }

    #__0__ .cube-typescript {
        background-image: url("./img/typescript.png");
        background-size: contain;
        background-position: left top;
    }

    #__0__ .cube-webcomponents {
        background-image: url("./img/webcomponents.png");
        background-size: contain;
        background-position: left top;
    }

</style>

<div class="slidetitle middle">Motivation</div>
<div class="svgcontainer">
    <svg class="canvas">
        <g class="system">
            <g class="gbrowser"></g>
            <g class="gkuberapp">
                <g class="gkubernetes"></g>
                <g class="gapp"></g>
            </g>
            <g class="gkafka"></g>
        </g>
    </svg>
</div>

<div class="cubecontainer"></div>

<script>

    (function () {
        _0.showText("#__presentator", "O")

        const svgElement = document.querySelector("#__0__ .canvas");
        const sketch = _0.createSketch(svgElement);

        _0.useTippy("transparent");

        const app1Rect = sketch.rectProz(.2, .7, .1, .2);
        _0.addStep(sketch.createRectStep("app1", app1Rect, "Zahlungszuordnung", {container: ".gapp"}));

        const app2Rect = sketch.rectProz(.35, .7, .1, .2);
        _0.addStep(sketch.createRectStep("app2", app2Rect, "Buchhaltung", {container: ".gapp"}));

        const app3Rect = sketch.rectProz(.5, .7, .1, .2);
        _0.addStep(sketch.createRectStep("app3", app3Rect, "Ablaufsteuerung", {container: ".gapp"}));

        const app4Rect = sketch.rectProz(.65, .7, .1, .2);
        _0.addStep(sketch.createRectStep("app4", app4Rect, "Abrechnung", {container: ".gapp"}));

        const appx1Rect = sketch.rectProz(.8, .7, .1, .2);
        const appx2Rect = sketch.rectProz(.82, .7, .1, .2);
        const appx3Rect = sketch.rectProz(.84, .7, .1, .2);
        _0.addStep(_0.combine(
            sketch.createRectStep("appx1", appx1Rect, "...", {container: ".gapp", fill: "lightgrey"}),
            sketch.createRectStep("appx2", appx2Rect, "...", {container: ".gapp", fill: "lightgrey"}),
            sketch.createRectStep("appx3", appx3Rect, "...", {container: ".gapp", fill: "lightgrey"}),
        ));

        const kubernetesRect = sketch.rectProz(.15, .65, .8, .3);
        _0.addStep(sketch.createRectStep("kubernetes", kubernetesRect, "Kubernetes", {container: ".gkubernetes", fill: "yellow", fillStyle: "hachure"}));

        const app1Id = `#${sketch.qid("app1")}`;
        _0.addStep(_0.tooltipStep(app1Id, "Spring Boot (Java) im Docker Container", "top"))

        const app2Id = `#${sketch.qid("app2")}`;
        _0.addStep(_0.combine(
            _0.removeTooltipStep(app1Id),
            _0.tooltipStep(app2Id, "Spring Boot (Kotlin) im Docker Container", "top")
        ))

        const app3Id = `#${sketch.qid("app3")}`;
        _0.addStep(_0.combine(
            _0.removeTooltipStep(app2Id),
            _0.tooltipStep(app3Id, "Keycloak im Docker Container", "top")
        ))

        const kubernetesId = `#${sketch.qid("kubernetes")}`;
        _0.addStep(_0.combine(
            _0.removeTooltipStep(app3Id),
            _0.tooltipStep(kubernetesId, "Unabh채ngig entwickeln und deployen", "top")
        ))

        _0.addStep(_0.anime.moveYStep(".gkuberapp", -.2));

        const kafkaRect = sketch.rectProz(.2, .77, .74, .1);
        _0.addStep(sketch.createRectStep("kafka", kafkaRect, "Apache Kafka", {container: ".gkafka", fill: "lightgreen", fillStyle: "hachure"}));

        const browserRect = sketch.rectProz(.2, .1, .74, .3);
        _0.addStep(_0.combine(
            _0.removeTooltipStep(kubernetesId),
            sketch.createRectStep("browser", browserRect, "Browser", {container: ".gbrowser", fill: "lightblue", fillStyle: "hachure"})
        ));

        const browserId = `#${sketch.qid("browser")}`;
        _0.addStep(_0.tooltipStep(browserId, "Webseite mit Inhalten aus mehreren Apps", "top"));

        const app1UiRect = sketch.rectProzFromRect(browserRect, .1, .5, .2, .3);
        _0.addStep(sketch.createRectStep("app1Ui", app1UiRect, "Inhalte Zahlungszuordnung", {container: ".gbrowser"}));
        const app1UiId = `#${sketch.qid("app1Ui")}`;
        const app1Ui2app1Step = sketch.createLineStep("app1Ui-app1", app1UiId, app1Id);
        _0.addStep(app1Ui2app1Step);

        const app2UiRect = sketch.rectProzFromRect(browserRect, .4, .1, .3, .8);
        _0.addStep(sketch.createRectStep("app2Ui", app2UiRect, "Inhalte Buchhaltung", {container: ".gbrowser"}));
        const app2UiId = `#${sketch.qid("app2Ui")}`;
        const app2Ui2app2Step = sketch.createLineStep("app2Ui-app2", app2UiId, app2Id);
        _0.addStep(app2Ui2app2Step);

        const app4UiRect = sketch.rectProzFromRect(browserRect, .8, .2, .15, .4);
        _0.addStep(sketch.createRectStep("app4Ui", app4UiRect, "Inhalte Abrechnung", {container: ".gbrowser"}));
        const app4UiId = `#${sketch.qid("app4Ui")}`;
        const app4Id = `#${sketch.qid("app4")}`;
        const app4Ui2App4Step = sketch.createLineStep("app4Ui-app4", app4UiId, app4Id);
        _0.addStep(app4Ui2App4Step);

        _0.addStep(_0.combine(
            _0.removeTooltipStep(browserId),
            _0.tooltipStep(app1UiId, "Micro Frontend<br/>Unabh채ngig entwickeln und deployen", "top"),
            _0.tooltipStep(app2UiId, "Micro Frontend<br/>Unabh채ngig entwickeln und deployen", "bottom"),
            _0.tooltipStep(app4UiId, "Micro Frontend<br/>Unabh채ngig entwickeln und deployen", "top"),
        ))

        _0.addStep(_0.combine(
            _0.reverse(app1Ui2app1Step),
            _0.reverse(app2Ui2app2Step),
            _0.reverse(app4Ui2App4Step),
        ))

        _0.addStep(_0.anime.scaleStep(".system", .5))

        const createCubeStep = _0.step(
            () => {
                _0.createCube(".cubecontainer", 350);
                _0.setClass(".cube-top", "cube-css3");
                _0.setClass(".cube-bottom", "cube-react");
                _0.setClass(".cube-right", "cube-javascript");
                _0.setClass(".cube-back", "cube-html5")
                _0.setClass(".cube-left", "cube-typescript")
                _0.setClass(".cube-front", "cube-webcomponents")
                _0.startStopCube(true);
            },
            () => {
                _0.removeCube(".cubecontainer")
            }
        )

        _0.addStep(createCubeStep);

        ___()
    })()

</script>